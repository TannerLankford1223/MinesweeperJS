{"ast":null,"code":"var _jsxFileName = \"/Users/tannerlankford/repos/MinesweeperJS/src/components/Field.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"../styles/css/Field.css\";\nimport Cell from \"./Cell\";\nimport CreateBoard from \"../utils/CreateBoard\";\nimport revealCells from \"../utils/RevealCells\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Field(_ref) {\n  _s();\n\n  let {\n    timer,\n    setTimer,\n    flagsLeft,\n    setFlagsLeft,\n    restart,\n    setRestart,\n    setGameOver\n  } = _ref;\n  const [field, setField] = useState([]);\n  const [mines, setMines] = useState([]);\n  const [emptySpacesLeft, setEmptySpacesLeft] = useState(0);\n  const [timerID, setTimerID] = useState(0);\n  let id = null;\n  useEffect(() => {\n    newField();\n    return () => {\n      clearInterval(timerID);\n    };\n  }, []);\n  useEffect(() => {\n    console.log(\"restart = \" + restart);\n\n    if (restart === true) {\n      newField();\n      setRestart(false);\n      newTimer();\n    }\n\n    return () => {\n      clearInterval(timerID);\n    };\n  }, [restart]);\n  useEffect(() => {\n    checkForWin();\n  }, [field]);\n\n  const newField = () => {\n    const field = CreateBoard();\n    setMines(field.mines);\n    setField(field.board);\n    setEmptySpacesLeft(field.emptySpaces);\n    setFlagsLeft(10);\n  };\n\n  const newTimer = () => {\n    if (timerID !== 0) {\n      // clearInterval(timerID);\n      clearInterval(id);\n      setTimer(0);\n    }\n\n    id = setInterval(() => {\n      setTimer(prevTime => prevTime + 1);\n    }, 1000);\n  };\n\n  const checkForWin = () => {\n    if (emptySpacesLeft === 0 && flagsLeft === 0) {\n      alert(\"You win!\");\n    }\n  };\n\n  const addFlag = () => {\n    setFlagsLeft(prevCount => prevCount - 1);\n  };\n\n  const removeFlag = () => {\n    setFlagsLeft(prevCount => prevCount + 1);\n  };\n\n  const updateFlag = (e, x, y) => {\n    e.preventDefault();\n    let newField = JSON.parse(JSON.stringify(field));\n    let cell = newField[x][y];\n\n    if (!cell.fired) {\n      if (cell.flagged) {\n        removeFlag();\n        cell.flagged = false;\n      } else {\n        if (flagsLeft > 0) {\n          addFlag();\n          cell.flagged = true;\n        }\n      }\n\n      setField(newField);\n    }\n  };\n\n  const revealCell = (x, y) => {\n    let newBoard = JSON.parse(JSON.stringify(field));\n    let cell = newBoard[x][y];\n\n    if (cell.bomb) {\n      clearInterval(timerID);\n\n      for (let i = 0; i < mines.length; i++) {\n        newBoard[mines[i][0]][mines[i][1]].fired = true;\n      }\n\n      setField(newBoard);\n    } else {\n      let revealedSpaces = revealCells(newBoard, x, y, emptySpacesLeft);\n      setField(revealedSpaces.arr);\n      setEmptySpacesLeft(revealedSpaces.emptySpacesLeft);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"field\",\n    children: field.map((row, index1) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.map((cell, index2) => {\n          return /*#__PURE__*/_jsxDEV(Cell, {\n            details: cell,\n            updateFlag: updateFlag,\n            revealCell: revealCell\n          }, index2, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 36\n          }, this);\n        })\n      }, index1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Field, \"ro1hCL+NR12hIJnvyz2aqfq+HjE=\");\n\n_c = Field;\nexport default Field;\n\nvar _c;\n\n$RefreshReg$(_c, \"Field\");","map":{"version":3,"names":["React","useEffect","useState","Cell","CreateBoard","revealCells","Field","timer","setTimer","flagsLeft","setFlagsLeft","restart","setRestart","setGameOver","field","setField","mines","setMines","emptySpacesLeft","setEmptySpacesLeft","timerID","setTimerID","id","newField","clearInterval","console","log","newTimer","checkForWin","board","emptySpaces","setInterval","prevTime","alert","addFlag","prevCount","removeFlag","updateFlag","e","x","y","preventDefault","JSON","parse","stringify","cell","fired","flagged","revealCell","newBoard","bomb","i","length","revealedSpaces","arr","map","row","index1","index2"],"sources":["/Users/tannerlankford/repos/MinesweeperJS/src/components/Field.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../styles/css/Field.css\"\nimport Cell from \"./Cell\";\nimport CreateBoard from \"../utils/CreateBoard\";\nimport revealCells from \"../utils/RevealCells\";\n\nfunction Field({ timer,  setTimer, flagsLeft, setFlagsLeft, restart, setRestart, setGameOver }) {\n    const [field, setField] = useState([]);\n    const [mines, setMines] = useState([]);\n    const [emptySpacesLeft, setEmptySpacesLeft] = useState(0);\n    const [timerID, setTimerID] = useState(0);\n\n    let id = null;\n    useEffect(() => {\n        newField();\n\n        return () => {\n            clearInterval(timerID);\n        }\n    }, []);\n\n    useEffect(() => {\n        console.log(\"restart = \" + restart);\n        if (restart === true) {\n            newField();\n            setRestart(false);\n            newTimer();\n        }\n        return () => {\n            clearInterval(timerID);\n        };\n    }, [restart]);\n\n    useEffect(() => {\n        checkForWin();\n    }, [field])\n\n    const newField = () => {\n        const field = CreateBoard();\n        setMines(field.mines);\n        setField(field.board);\n        setEmptySpacesLeft(field.emptySpaces);\n        setFlagsLeft(10);\n    }\n\n    const newTimer = () => {\n        if (timerID !== 0) {\n            // clearInterval(timerID);\n            clearInterval(id);\n            setTimer(0);\n        }\n        id = setInterval(() => {\n            setTimer(prevTime => prevTime + 1);\n        }, 1000);\n    }\n\n    const checkForWin = () => {\n        if (emptySpacesLeft === 0 && flagsLeft === 0) {\n            alert(\"You win!\");\n        }\n    }\n\n    const addFlag = () => {\n        setFlagsLeft(prevCount => prevCount - 1);\n    }\n\n    const removeFlag = () => {\n        setFlagsLeft(prevCount => prevCount + 1);\n    }\n\n    const updateFlag = (e, x, y) => {\n        e.preventDefault();\n        let newField = JSON.parse(JSON.stringify(field));\n        let cell = newField[x][y];\n        if (!cell.fired) {\n            if (cell.flagged) {\n                removeFlag();\n                cell.flagged = false;\n            } else {\n                if (flagsLeft > 0) {\n                    addFlag();\n                    cell.flagged = true;\n                }\n            }\n            setField(newField);\n        }\n    }\n\n    const revealCell = (x, y) => {\n        let newBoard = JSON.parse(JSON.stringify(field));\n        let cell = newBoard[x][y];\n        if (cell.bomb) {\n            clearInterval(timerID);\n            for (let i = 0; i < mines.length; i++) {\n                newBoard[mines[i][0]][mines[i][1]].fired = true;\n            }\n            setField(newBoard);\n        } else {\n            let revealedSpaces = revealCells(newBoard, x, y, emptySpacesLeft);\n            setField(revealedSpaces.arr);\n            setEmptySpacesLeft(revealedSpaces.emptySpacesLeft);\n        }\n    }\n\n    return (\n        <div className=\"field\">\n            {field.map((row, index1) => {\n                return (\n                    <div key={index1}>\n                        {row.map((cell, index2) => {\n                            return <Cell details={cell} key={index2} updateFlag={updateFlag} revealCell={revealCell} />\n                        })}\n                    </div>\n                )\n            })}\n        </div>\n    );\n}\n\n\nexport default Field;"],"mappings":"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"},"metadata":{},"sourceType":"module"}